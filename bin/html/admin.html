<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>{{ .WebTitle }}</title>
		<script type="text/javascript" src="/static/js/showdown.min.js"></script>
		<script type="text/javascript" src="/static/js/index.min.js"></script>
		<link rel="stylesheet" type="text/css" href="/static/css/markdown.min.css" />
		<link rel="stylesheet" type="text/css" href="/static/css/common.min.css" />
	</head>
	<body onload="initpage()">
		<div>
			<button style="height:45px;width:45px" onclick="OnNewBlog()">New Blog</button>
		</div>
		<div class="LogoutArea" name="logoutform">
			admin
			<a href="javascript:onclick=OnLogout()">Logout</a>
		</div>
		<ul>
			{{ range .CurIndexData }}
			<span name="markdownContent">{{ .PostTitleHref }}</span>
			<span name="markdownContent">{{ .PostProfile }}</span>
			Post: {{ .PostDate }} | Viewed:{{ .PostReadNum }} | 
			Comments:{{ .PostCommentNum }}&nbsp;
			<a href="javascript:onclick=OnDelete({{ .PostID }})">Delete</a>
			<a href="javascript:onclick=OnModify({{ .PostID }})">Modify</a>
			<hr>
			{{ end }}
		</ul>
		<div align="center">
			<button onclick="prepage();"  >◄</button>
			[{{ .CurPage }}]...<span id="maxPage">{{ .MaxPage }}</span>
			<button onclick="nextpage();" >►</button>
		</div>
		<script type="text/javascript">
		function OnDelete(PostID){
			var pageAddr = "delete?PostID="+PostID;
			window.location.href = pageAddr;
		}
		function OnNewBlog(){
			var pageAddr = "newblog";
			window.location.href = pageAddr
		}
		function OnModify(PostID){
			var pageAddr = "modify?PostID="+PostID;
			window.location.href = pageAddr;
		}
		function OnLogout(){
			var pageAddr = "logout";
			alert(pageAddr);
			window.location.href = pageAddr;
		}
		</script>
	</body>
	<footer>
		<p class="PoweredText" align="center">Powered by:<a href="https://github.com/lienze/GoBlog">GoBlog</a>&nbsp;version:{{ .BlogVersion }}
		<br>
		Contact information: <a href="mailto:lienze2010@126.com">lienze2010@126.com</a>.</p>
	</footer>
</html>

