<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>{{ .WebTitle }}</title>
		<script type="text/javascript" src="/static/showdown.min.js"></script>
		<link rel="stylesheet" type="text/css" href="/static/markdown.min.css" />
	</head>
	<body onload="initpage()">
		<ul>
		<span name="markdownContent">{{ .PageContent }}
		</ul>
		<script type="text/javascript">
		function getquerystring(name){
			var reg = new RegExp("(^|&)"+ name +"=([^&]*)(&|$)");
			var r = window.location.search.substr(1).match(reg);
			if(r!=null)return  unescape(r[2]); return null;
		}
		function initpage(){
			convert2md();
		}
		function convert2md(){
			var list = document.getElementsByName("markdownContent");
			for(var i=0; i < list.length; i++){
				compile(list[i]);
			}
		}
		function compile(elem){
			var converter = new showdown.Converter();
			var html = converter.makeHtml(elem.textContent);
			elem.innerHTML = html;
		}
		</script>
	</body>
</html>

